<!-- build time:Thu Mar 12 2020 20:56:21 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html class="theme-next pisces use-motion" lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><script>!function(e,t,o,c,a,i,n){e.DaoVoiceObject=a,e[a]=e[a]||function(){(e[a].q=e[a].q||[]).push(arguments)},e[a].l=1*new Date,i=t.createElement(o),n=t.getElementsByTagName(o)[0],i.async=1,i.src=c,i.charset="utf-8",n.parentNode.insertBefore(i,n)}(window,document,"script",("https:"==document.location.protocol?"https:":"http:")+"//widget.daovoice.io/widget/0f81ff2f.js","daovoice"),daovoice("init",{app_id:"cc5a24da"}),daovoice("update")</script><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="https://fonts.loli.net/css?family=EB+Garamond:400,400i,700,700i|Noto+Serif+SC:400,500,700&display=swap&subset=chinese-simplified" rel="stylesheet"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="32x32" href="/images/html.jpg?v=5.1.4"><link rel="icon" type="image/png" sizes="16x16" href="/images/html.jpg?v=5.1.4"><link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222"><meta name="keywords" content="Vue,"><link rel="alternate" href="/atom.xml" title="JavaScript" type="application/atom+xml"><meta name="description" content="前言之前使用过 Vue 开发后台项目，每做一个项目都会收获了不一样的经验和理解。下面我把这些点点滴滴的经验总结下来，做一个系列的文章分享和阶段性的总结。概览问题我将从 16 个方面来论述 vue 开发过程中的一些技巧和原理。当然由于篇幅有限，先论述前 8 个问题，下节将完成全系列内容。本篇文章将围绕下列问题进行论述：如何规范你的 git 提交，并自动生成并提交日志？如何配置和使用 Sass 和 P"><meta property="og:type" content="article"><meta property="og:title" content="吃透 Vue 项目开发实践｜16个方面深入前端工程化开发技巧《上》"><meta property="og:url" content="http://www.yptup.top/posts/8075ddb6.html"><meta property="og:site_name" content="JavaScript"><meta property="og:description" content="前言之前使用过 Vue 开发后台项目，每做一个项目都会收获了不一样的经验和理解。下面我把这些点点滴滴的经验总结下来，做一个系列的文章分享和阶段性的总结。概览问题我将从 16 个方面来论述 vue 开发过程中的一些技巧和原理。当然由于篇幅有限，先论述前 8 个问题，下节将完成全系列内容。本篇文章将围绕下列问题进行论述：如何规范你的 git 提交，并自动生成并提交日志？如何配置和使用 Sass 和 P"><meta property="og:image" content="http://www.yptup.top/posts/8075ddb6/summarize.jpg"><meta property="og:image" content="http://www.yptup.top/posts/8075ddb6/commit.jpg"><meta property="og:image" content="http://www.yptup.top/posts/8075ddb6/resource.jpg"><meta property="og:image" content="http://www.yptup.top/posts/8075ddb6/icon.jpg"><meta property="og:image" content="http://www.yptup.top/posts/8075ddb6/component.jpg"><meta property="article:published_time" content="2019-08-11T15:34:30.000Z"><meta property="article:modified_time" content="2020-03-11T12:27:03.000Z"><meta property="article:author" content="丶远方"><meta property="article:tag" content="Vue"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://www.yptup.top/posts/8075ddb6/summarize.jpg"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Pisces",version:"5.1.4",sidebar:{position:"left",display:"post",offset:12,b2t:!1,scrollpercent:!0,onmobile:!0},fancybox:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"flipYIn",post_header:"perspectiveRightIn",post_body:"perspectiveLeftIn",coll_header:"perspectiveDownIn",sidebar:"perspectiveUpIn"}},duoshuo:{userId:"0",author:"博主"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="http://www.yptup.top/posts/8075ddb6.html"><script>!function(e,t,o,c,a,i,n){e.DaoVoiceObject=a,e[a]=e[a]||function(){(e[a].q=e[a].q||[]).push(arguments)},e[a].l=1*new Date,i=t.createElement(o),n=t.getElementsByTagName(o)[0],i.async=1,i.src=c,i.charset="utf-8",n.parentNode.insertBefore(i,n)}(window,document,"script",("https:"==document.location.protocol?"https:":"http:")+"//widget.daovoice.io/widget/0f81ff2f.js","daovoice"),daovoice("init",{app_id:"cc5a24da"}),daovoice("update")</script><script></script><title>吃透 Vue 项目开发实践｜16个方面深入前端工程化开发技巧《上》 | JavaScript</title><meta name="generator" content="Hexo 4.2.0"></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><a href="https://github.com/Alfred-Skyblue" target="_blank" rel="noopener" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#64CEAA;color:#fff;position:absolute;top:0;border:0;right:0" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">JavaScript</span> <span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">每一个不曾起舞的日子，都是对生命的辜负</h1></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-相册"><a href="/photos" rel="section"><i class="menu-item-icon fa fa-fw fa-photo"></i><br>相册</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i> </span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"><input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://www.yptup.top/posts/8075ddb6.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="丶远方"><meta itemprop="description" content=""><meta itemprop="image" content="/images/photograph.JPG"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="JavaScript"></span><header class="post-header"><h2 class="post-title" itemprop="name headline">吃透 Vue 项目开发实践｜16个方面深入前端工程化开发技巧《上》</h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><time title="创建于" itemprop="dateCreated datePublished" datetime="2019-08-11T23:34:30+08:00">2019-08-11 </time></span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Vue/" itemprop="url" rel="index"><span itemprop="name">Vue</span> </a></span></span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><a href="/posts/8075ddb6.html#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/posts/8075ddb6.html" itemprop="commentCount"></span> </a></span><span class="post-wordcount"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span title="字数">6.4k</span></span></div></header><div class="post-body" itemprop="articleBody"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>之前使用过 Vue 开发后台项目，每做一个项目都会收获了不一样的经验和理解。下面我把这些点点滴滴的经验总结下来，做一个系列的文章分享和阶段性的总结。</p><h2 id="概览"><a href="#概览" class="headerlink" title="概览"></a>概览</h2><p><img src="/posts/8075ddb6/summarize.jpg" alt="概述"></p><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><blockquote><p>我将从 16 个方面来论述 vue 开发过程中的一些技巧和原理。当然由于篇幅有限，先论述前 8 个问题，下节将完成全系列内容。</p></blockquote><p>本篇文章将围绕下列问题进行论述：</p><ul><li>如何规范你的 git 提交，并自动生成并提交日志？</li><li>如何配置和使用 Sass 和 PUG 提升你的编码效率？</li><li>如何处理你的代码风格问题，以及如何使用 perttier 与 eslint 解决效率风格两难问题？</li><li>如何管理页面的路由，如何编写异步路由？</li><li>如何编写组件，引入组件库？</li><li>如何管理你的资源，如何引入图标，样式？</li><li>如何封装你的 axios，管理你的api？</li><li>如何使用 mock 模拟你的数据，实现真正意义的前后端分离？</li></ul><h2 id="实践"><a href="#实践" class="headerlink" title="实践"></a>实践</h2><blockquote><p>实践之前：我希望你有如下准备，或者知识储备。</p><ul><li>了解 npm/yarn/git/sass/pug/vue/vuex/vue-router/axios/mock/ssr/jest 的使用和原理。</li></ul></blockquote><h3 id="如何规范-git-提交"><a href="#如何规范-git-提交" class="headerlink" title="如何规范 git 提交"></a>如何规范 git 提交</h3><blockquote><p>代码提交记录是一个很好的代码修改日志。规范的代码提交记录，不管在平时代码开发维护过程中，还是在定位 bug 或者回退版本来说都是极为重要。</p></blockquote><h4 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h4><p><strong>两种做法：</strong></p><ol><li>自己手动规范 git 的提交原则或者团队统一制定。这个靠自觉，好习惯养成之后就没问题来</li><li>使用插件规范，比如下面这种</li></ol><p><strong>为了规范提交，我使用了如下插件：</strong></p><ol><li>commitizen</li><li>conventional-changelog</li><li>cz-conventional-changelog</li><li>conventional-changelog-cli</li></ol><p><strong>解决方案</strong></p><p><strong>安装系列插件依赖</strong></p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add -D commitizen conventional-changelog cz-conventional-changelog</span><br></pre></td></tr></table></figure></div><blockquote><p>安装依赖时，要注意是否是生产环境需要的。显然 <code>commitizen</code> 只在开发环境中使用。-D 只在 <code>dev</code> 环境使用</p></blockquote><p><strong>配置依赖路径</strong></p><p>在 <code>package.json</code> 中添加配置</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">    <span class="string">"config"</span>: &#123;</span><br><span class="line">        <span class="string">"commitizen"</span>: &#123;</span><br><span class="line">          <span class="string">"path"</span>: <span class="string">"./node_modules/cz-conventional-changelog"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><strong>在命令行中输入</strong></p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add -A</span><br><span class="line">git-cz</span><br></pre></td></tr></table></figure></div><p><strong>出现了交互输入方式，规范你的 <code>commit</code> 输入格式</strong></p><p><img src="/posts/8075ddb6/commit.jpg" alt="commit"></p><p><strong>生成 CHANGELOG</strong></p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -g conventional-changelog-cli</span><br></pre></td></tr></table></figure></div><p>增加一个npm 命令，快速生成日志</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"genlog"</span>: <span class="string">"conventional-changelog -p angular -i .github/CHANGELOG.md -s"</span></span><br></pre></td></tr></table></figure></div><p>使用yarn命令生成日志</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn genlog</span><br></pre></td></tr></table></figure></div><p>自动生成的log</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="MD"><figure class="iseeu highlight /md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 0.1.0 (2019-12-27)</span></span><br><span class="line"></span><br><span class="line"><span class="section">### Features</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">* </span><span class="strong">**git:**</span> 增加commitizen工具规范提交 ([<span class="string">58e3937</span>](<span class="link">https://github.com/suoyuesmile/suo-design-pro/commit/58e39370aa838fd99312f73b37d092ffadc85990</span>))</span><br></pre></td></tr></table></figure></div><h3 id="如何管理代码风格"><a href="#如何管理代码风格" class="headerlink" title="如何管理代码风格"></a>如何管理代码风格</h3><blockquote><p>较统一的代码风格利于阅读，也利于协作。</p></blockquote><h4 id="原理与解决方案"><a href="#原理与解决方案" class="headerlink" title="原理与解决方案"></a>原理与解决方案</h4><p>使用 <code>eslint</code> 约束基本风格和语法，使用 <code>prettier</code> 自动格式化你的代码。</p><h4 id="实践-1"><a href="#实践-1" class="headerlink" title="实践"></a>实践</h4><p><strong>安装 eslint 依赖</strong></p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JSON"><figure class="iseeu highlight /json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"eslint"</span>: <span class="string">"^5.16.0"</span>,</span><br><span class="line">    <span class="attr">"eslint-config-standard"</span>: <span class="string">"^6.2.1"</span>,</span><br><span class="line">    <span class="attr">"eslint-friendly-formatter"</span>: <span class="string">"^2.0.7"</span>,</span><br><span class="line">    <span class="attr">"eslint-loader"</span>: <span class="string">"^2.1.2"</span>,</span><br><span class="line">    <span class="attr">"eslint-plugin-html"</span>: <span class="string">"^2.0.1"</span>,</span><br><span class="line">    <span class="attr">"eslint-plugin-promise"</span>: <span class="string">"^3.5.0"</span>,</span><br><span class="line">    <span class="attr">"eslint-plugin-standard"</span>: <span class="string">"^2.3.1"</span>,</span><br><span class="line">    <span class="attr">"eslint-plugin-vue"</span>: <span class="string">"^5.0.0"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>使用两个插件，一个 <code>plugin:vue/essential</code>，一个是 <code>standard</code>。 <code>vue/essential</code> 为了在 vue 里面也可以生效。另一个是 <code>standard</code>。 <a href="https://github.com/standard/standard/blob/master/docs/RULES-zhcn.md#javascript-standard-style" target="_blank" rel="noopener">standard 标准文档</a></p><blockquote><p>使用 recommend 也可以，采用推荐 lint，更加轻量化</p></blockquote><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  root: <span class="literal">true</span>,</span><br><span class="line">  env: &#123;</span><br><span class="line">    node: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  extends: [<span class="string">'plugin:vue/essential'</span>, <span class="string">'standard'</span>],</span><br><span class="line">  rules: &#123;</span><br><span class="line">    quotes: [<span class="string">'error'</span>, <span class="string">'single'</span>],</span><br><span class="line">    indent: [<span class="string">'error'</span>, <span class="number">2</span>, &#123; <span class="attr">MemberExpression</span>: <span class="string">'off'</span> &#125;],</span><br><span class="line">    <span class="string">'arrow-parens'</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="string">'no-loop-func'</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="string">'space-before-function-paren'</span>: [<span class="string">'error'</span>, <span class="string">'never'</span>],</span><br><span class="line">    indent: [<span class="string">'error'</span>, <span class="number">2</span>, &#123; <span class="attr">SwitchCase</span>: <span class="number">1</span> &#125;]</span><br><span class="line">  &#125;,</span><br><span class="line">  parserOptions: &#123;</span><br><span class="line">    parser: <span class="built_in">require</span>.resolve(<span class="string">'babel-eslint'</span>),</span><br><span class="line">    ecmaVersion: <span class="number">2018</span>,</span><br><span class="line">    sourceType: <span class="string">'module'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><strong>可以自定义 rules 的规则</strong></p><blockquote><p>rules 的规则 { 规则名：[是否关闭/规则等级，配置的值，只对部分配置] }<br><code>indent: [&#39;error&#39;, 2, { SwitchCase: 1 }]</code> 兼容 prettier，prettier 会将代码格式化成 eslint 报错的情况。<br>规则等级：0 关闭 1 警告 2 报错</p></blockquote><h4 id="使用-prettier"><a href="#使用-prettier" class="headerlink" title="使用 prettier"></a>使用 prettier</h4><p>配置 prettier 文件</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"printWidth"</span>: <span class="number">150</span>,</span><br><span class="line">  <span class="string">"singleQuote"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="string">"trailingComma"</span>: <span class="string">"none"</span>,</span><br><span class="line">  <span class="string">"semi"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="string">"tabWidth"</span>: <span class="number">2</span>,</span><br><span class="line">  <span class="string">"useTabs"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="string">"bracketSpacing"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="string">"jsxBracketSameLine"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="string">"arrowParens"</span>: <span class="string">"always"</span>,</span><br><span class="line">  <span class="string">"proseWrap"</span>: <span class="string">"preserve"</span>,</span><br><span class="line">  <span class="string">"overrides"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">"files"</span>: [<span class="string">"*.json"</span>, <span class="string">".eslintrc"</span>, <span class="string">".tslintrc"</span>, <span class="string">".prettierrc"</span>, <span class="string">".tern-project"</span>],</span><br><span class="line">        <span class="string">"options"</span>: &#123;</span><br><span class="line">            <span class="string">"parser"</span>: <span class="string">"json"</span>,</span><br><span class="line">            <span class="string">"tabWidth"</span>: <span class="number">2</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">"files"</span>: <span class="string">"*.&#123;css,sass,scss,less&#125;"</span>,</span><br><span class="line">        <span class="string">"options"</span>: &#123;</span><br><span class="line">            <span class="string">"parser"</span>: <span class="string">"css"</span>,</span><br><span class="line">            <span class="string">"tabWidth"</span>: <span class="number">2</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">"files"</span>: <span class="string">"*.ts"</span>,</span><br><span class="line">        <span class="string">"options"</span>: &#123;</span><br><span class="line">            <span class="string">"parser"</span>: <span class="string">"typescript"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">"files"</span>: <span class="string">"*.vue"</span>,</span><br><span class="line">        <span class="string">"options"</span>: &#123;</span><br><span class="line">            <span class="string">"parser"</span>: <span class="string">"vue"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">"files"</span>: <span class="string">"*.md"</span>,</span><br><span class="line">        <span class="string">"options"</span>: &#123;</span><br><span class="line">            <span class="string">"parser"</span>: <span class="string">"markdown"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><strong>开启 vscode 自动格式化</strong></p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JSON"><figure class="iseeu highlight /json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="comment">// prettier</span></span><br><span class="line">  <span class="attr">"prettier.singleQuote"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">"prettier.semi"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">"prettier.tabWidth"</span>: <span class="number">2</span>,</span><br><span class="line">  <span class="attr">"[javascript]"</span>: &#123;</span><br><span class="line">    <span class="attr">"editor.formatOnSave"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"editor.defaultFormatter"</span>: <span class="string">"esbenp.prettier-vscode"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h3 id="如何提升编码效率"><a href="#如何提升编码效率" class="headerlink" title="如何提升编码效率"></a>如何提升编码效率</h3><h4 id="原理与解决方案-1"><a href="#原理与解决方案-1" class="headerlink" title="原理与解决方案"></a>原理与解决方案</h4><p>我主要从 3 个方面来做一些编码效率上的改进</p><ol><li>升级你的 vue-cli 减少 webpack 配置的成本</li><li>使用 sass，利用里面函数、mixins、变量提升 css 文件的复用</li><li>使用 pug，减少 html 的代码编写量</li></ol><p><strong>实践</strong></p><blockquote><p><code>vue-cli3+、vue-cli4+</code> 相比于 <code>vue-cli2+</code> 最大的改变就是将约定俗称的配置，全部公共化了，也就是做了一次二次封装。这样的好处在于，我们不必要在繁多的配置代码中寻找需要的配置。</p></blockquote><p>简单新建一个配置入口就能操作我们大多数想要的功能。在 <code>root</code> 目录下新建一个 <code>vue.config.js</code> 文件，作为我们 <code>webpack</code> 的配置文件。</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> autoprefixer = <span class="built_in">require</span>(<span class="string">'autoprefixer'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  publicPath: process.env === <span class="string">'production'</span> ? <span class="string">''</span> : <span class="string">'/'</span>,</span><br><span class="line">  outputDir: <span class="string">'dist'</span>,</span><br><span class="line">  assetsDir: <span class="string">'static'</span>,</span><br><span class="line">  filenameHashing: <span class="literal">true</span>,</span><br><span class="line">  lintOnSave: <span class="literal">true</span>,</span><br><span class="line">  runtimeCompiler: <span class="literal">false</span>,</span><br><span class="line">  transpileDependencies: [<span class="regexp">/\/node_modules\/vue-echarts\//</span>, /\/node_modules\/resize-detector\<span class="comment">//],</span></span><br><span class="line">  productionSourceMap: <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>简单的配置完成后，我们引入一个 <code>sass</code> 工具用于编写 <code>sass</code>文件</p><h4 id="使用-Sass"><a href="#使用-Sass" class="headerlink" title="使用 Sass"></a>使用 Sass</h4><p>安装与使用</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add -D sass sass-loader</span><br></pre></td></tr></table></figure></div><h4 id="如何处理样式"><a href="#如何处理样式" class="headerlink" title="如何处理样式"></a>如何处理样式</h4><p>在 <code>assets</code> 目录中建立一个 styles 文件专门来存放样式文件，新增入口<code>index.scss</code>文件，便于 JavaScript 引入，增加 utils.scss、reset.scss、varibles 文件。</p><blockquote><p>这些样式工具都是为了提升我们 scss 开发效率，具有畅快的开发体验！</p></blockquote><p><strong>使用 varibles 变量文件</strong><br>为了提升我们代码的可读性，复用性。使用 <code>sass</code> 变量必不可少。</p><p>还有一点就是利于全局修改样式，如果需要更换皮肤这个功能，我们只需要更改全局的主题色，即可更换主题，那样更加方便。</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="SCSS"><figure class="iseeu highlight /scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 主题色</span></span><br><span class="line"><span class="variable">$color-red</span>: <span class="number">#ff3333</span>;</span><br><span class="line"><span class="variable">$color-purple</span>: <span class="number">#ff33a9</span>;</span><br><span class="line"><span class="variable">$color-orange</span>: <span class="number">#ff8833</span>;</span><br><span class="line"><span class="variable">$color-blue</span>: <span class="number">#3377ff</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 文字色</span></span><br><span class="line"><span class="variable">$color-black</span>: <span class="number">#000</span>;</span><br><span class="line"><span class="variable">$color-dark</span>: <span class="number">#333</span>;</span><br><span class="line"><span class="variable">$color-deep</span>: <span class="number">#555</span>;</span><br><span class="line"><span class="variable">$color-pl</span>: <span class="number">#999999</span>;</span><br><span class="line"><span class="variable">$color-weak</span>: <span class="number">#B3B3B3</span>;</span><br><span class="line"><span class="variable">$color-white</span>: <span class="number">#fff</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 背景色</span></span><br><span class="line"><span class="variable">$bg-bar</span>: <span class="number">#F9F9F9</span>;</span><br><span class="line"><span class="variable">$bg-page</span>: <span class="number">#F3F3F3</span>;</span><br><span class="line"><span class="variable">$bg-page-light</span>: <span class="number">#F9F9F9</span>;</span><br></pre></td></tr></table></figure></div><p>使用变量之后，sass 文件不会直接生效，至少在 vue 文件 里面是访问不到的。 需要在 vue.config.js 里面增加如下配置。</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    css: &#123;</span><br><span class="line">        sourceMap: <span class="literal">true</span>,</span><br><span class="line">        loaderOptions: &#123;</span><br><span class="line">            sass: &#123;</span><br><span class="line">                prependData: <span class="string">`</span></span><br><span class="line"><span class="string">        @import "@/assets/styles/variable.scss";</span></span><br><span class="line"><span class="string">        `</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><strong>覆盖默认样式</strong></p><p>常规操作, 引入 reset.scss 将默认样式覆盖掉</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="CSS"><figure class="iseeu highlight /css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* http://meyerweb.com/eric/tools/css/reset/</span></span><br><span class="line"><span class="comment">   v2.0 | 20110126</span></span><br><span class="line"><span class="comment">   License: none (public domain)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">html</span>, <span class="selector-tag">body</span>, <span class="selector-tag">div</span>, <span class="selector-tag">span</span>, <span class="selector-tag">applet</span>, <span class="selector-tag">object</span>, <span class="selector-tag">iframe</span>,</span><br><span class="line"><span class="selector-tag">h1</span>, <span class="selector-tag">h2</span>, <span class="selector-tag">h3</span>, <span class="selector-tag">h4</span>, <span class="selector-tag">h5</span>, <span class="selector-tag">h6</span>, <span class="selector-tag">p</span>, <span class="selector-tag">blockquote</span>, <span class="selector-tag">pre</span>,</span><br><span class="line"><span class="selector-tag">a</span>, <span class="selector-tag">abbr</span>, <span class="selector-tag">acronym</span>, <span class="selector-tag">address</span>, <span class="selector-tag">big</span>, <span class="selector-tag">cite</span>, <span class="selector-tag">code</span>,</span><br><span class="line"><span class="selector-tag">del</span>, <span class="selector-tag">dfn</span>, <span class="selector-tag">em</span>, <span class="selector-tag">img</span>, <span class="selector-tag">ins</span>, <span class="selector-tag">kbd</span>, <span class="selector-tag">q</span>, <span class="selector-tag">s</span>, <span class="selector-tag">samp</span>,</span><br><span class="line"><span class="selector-tag">small</span>, <span class="selector-tag">strike</span>, <span class="selector-tag">strong</span>, <span class="selector-tag">sub</span>, <span class="selector-tag">sup</span>, <span class="selector-tag">tt</span>, <span class="selector-tag">var</span>,</span><br><span class="line"><span class="selector-tag">b</span>, <span class="selector-tag">u</span>, <span class="selector-tag">i</span>, <span class="selector-tag">center</span>,</span><br><span class="line"><span class="selector-tag">dl</span>, <span class="selector-tag">dt</span>, <span class="selector-tag">dd</span>, <span class="selector-tag">ol</span>, <span class="selector-tag">ul</span>, <span class="selector-tag">li</span>,</span><br><span class="line"><span class="selector-tag">fieldset</span>, <span class="selector-tag">form</span>, <span class="selector-tag">label</span>, <span class="selector-tag">legend</span>,</span><br><span class="line"><span class="selector-tag">table</span>, <span class="selector-tag">caption</span>, <span class="selector-tag">tbody</span>, <span class="selector-tag">tfoot</span>, <span class="selector-tag">thead</span>, <span class="selector-tag">tr</span>, <span class="selector-tag">th</span>, <span class="selector-tag">td</span>,</span><br><span class="line"><span class="selector-tag">article</span>, <span class="selector-tag">aside</span>, <span class="selector-tag">canvas</span>, <span class="selector-tag">details</span>, <span class="selector-tag">embed</span>,</span><br><span class="line"><span class="selector-tag">figure</span>, <span class="selector-tag">figcaption</span>, <span class="selector-tag">footer</span>, <span class="selector-tag">header</span>, <span class="selector-tag">hgroup</span>,</span><br><span class="line"><span class="selector-tag">menu</span>, <span class="selector-tag">nav</span>, <span class="selector-tag">output</span>, <span class="selector-tag">ruby</span>, <span class="selector-tag">section</span>, <span class="selector-tag">summary</span>,</span><br><span class="line"><span class="selector-tag">time</span>, <span class="selector-tag">mark</span>, <span class="selector-tag">audio</span>, <span class="selector-tag">video</span> &#123;</span><br><span class="line">	<span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">	<span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">	<span class="attribute">border</span>: <span class="number">0</span>;</span><br><span class="line">	<span class="attribute">font-size</span>: <span class="number">100%</span>;</span><br><span class="line">	<span class="attribute">font</span>: inherit;</span><br><span class="line">	<span class="attribute">vertical-align</span>: baseline;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* HTML5 display-role reset for older browsers */</span></span><br><span class="line"><span class="selector-tag">article</span>, <span class="selector-tag">aside</span>, <span class="selector-tag">details</span>, <span class="selector-tag">figcaption</span>, <span class="selector-tag">figure</span>,</span><br><span class="line"><span class="selector-tag">footer</span>, <span class="selector-tag">header</span>, <span class="selector-tag">hgroup</span>, <span class="selector-tag">menu</span>, <span class="selector-tag">nav</span>, <span class="selector-tag">section</span> &#123;</span><br><span class="line">	<span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">	<span class="attribute">line-height</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">ol</span>, <span class="selector-tag">ul</span> &#123;</span><br><span class="line">	<span class="attribute">list-style</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">blockquote</span>, <span class="selector-tag">q</span> &#123;</span><br><span class="line">	<span class="attribute">quotes</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">blockquote</span><span class="selector-pseudo">:before</span>, <span class="selector-tag">blockquote</span><span class="selector-pseudo">:after</span>,</span><br><span class="line"><span class="selector-tag">q</span><span class="selector-pseudo">:before</span>, <span class="selector-tag">q</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">	<span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">	<span class="attribute">content</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">table</span> &#123;</span><br><span class="line">	<span class="attribute">border-collapse</span>: collapse;</span><br><span class="line">	<span class="attribute">border-spacing</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">html</span>, <span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: auto;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">scroll-behavior</span>: smooth;</span><br><span class="line">  <span class="attribute">-webkit-overflow-scrolling</span>: touch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><strong>使用样式工具集</strong><br>有时候我们发现，光是引入变量还不够，变量工具只能允许我们在 css 类文件中使用。假如我想着模版中直接使用样式，有没有更快的方案呢？</p><p>当然有的，我们可以自定义一个常用的样式工具集。设置一些背景颜色、字体颜色、盒子模型中的常规操作。</p><blockquote><p>要是有设计规范更好哦，我也是常常向设计师提出要求，一定要制定出一套产品的设计规范。</p></blockquote><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="CSS"><figure class="iseeu highlight /css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">// utils 工具</span><br><span class="line">// 颜色</span><br><span class="line"><span class="selector-class">.bg-red</span> &#123;<span class="attribute">background-color</span>: $color-red<span class="meta">!important</span>;&#125;</span><br><span class="line"><span class="selector-class">.bg-purple</span> &#123;<span class="attribute">background-color</span>: $color-purple<span class="meta">!important</span>;&#125;</span><br><span class="line"><span class="selector-class">.bg-orange</span> &#123;<span class="attribute">background-color</span>: $color-orange<span class="meta">!important</span>;&#125;</span><br><span class="line"><span class="selector-class">.bg-blue</span> &#123;<span class="attribute">background-color</span>: $color-blue<span class="meta">!important</span>;&#125;</span><br><span class="line"><span class="selector-class">.color-red</span> &#123;<span class="attribute">color</span>: $color-red<span class="meta">!important</span>;&#125;</span><br><span class="line"><span class="selector-class">.color-purple</span> &#123;<span class="attribute">color</span>: $color-purple<span class="meta">!important</span>;&#125;</span><br><span class="line"><span class="selector-class">.color-orange</span> &#123;<span class="attribute">color</span>: $color-orange<span class="meta">!important</span>;&#125;</span><br><span class="line"><span class="selector-class">.color-blue</span> &#123;<span class="attribute">color</span>: $color-blue<span class="meta">!important</span>;&#125;</span><br><span class="line"><span class="selector-class">.text-black</span> &#123;<span class="attribute">color</span>: <span class="number">#000</span>;&#125;</span><br><span class="line"><span class="selector-class">.text-dark</span> &#123;<span class="attribute">color</span>: <span class="number">#333</span>;&#125;</span><br><span class="line"><span class="selector-class">.text-deep</span> &#123;<span class="attribute">color</span>: <span class="number">#555</span>;&#125;</span><br><span class="line"><span class="selector-class">.text-weak</span> &#123;<span class="attribute">color</span>: <span class="number">#B3B3B3</span>;&#125;</span><br><span class="line"><span class="selector-class">.text-white</span> &#123;<span class="attribute">color</span>: <span class="number">#fff</span>;&#125;</span><br><span class="line"></span><br><span class="line">// 字体</span><br><span class="line"><span class="selector-class">.f10</span> &#123;<span class="attribute">font-size</span>: <span class="number">10px</span>;&#125;</span><br><span class="line"><span class="selector-class">.f12</span> &#123;<span class="attribute">font-size</span>: <span class="number">12px</span>;&#125;</span><br><span class="line"><span class="selector-class">.f14</span> &#123;<span class="attribute">font-size</span>: <span class="number">14px</span>;&#125;</span><br><span class="line"><span class="selector-class">.f15</span> &#123;<span class="attribute">font-size</span>: <span class="number">15px</span>;&#125;</span><br><span class="line"><span class="selector-class">.f17</span> &#123;<span class="attribute">font-size</span>: <span class="number">17px</span>;&#125;</span><br><span class="line"><span class="selector-class">.f20</span> &#123;<span class="attribute">font-size</span>: <span class="number">20px</span>;&#125;</span><br><span class="line"><span class="selector-class">.f24</span> &#123;<span class="attribute">font-size</span>: <span class="number">24px</span>;&#125;</span><br><span class="line"></span><br><span class="line">// 文字对齐</span><br><span class="line"><span class="selector-class">.tl</span> &#123;<span class="attribute">text-align</span>: left;&#125;</span><br><span class="line"><span class="selector-class">.tc</span> &#123;<span class="attribute">text-align</span>: center;&#125;</span><br><span class="line"><span class="selector-class">.tr</span> &#123;<span class="attribute">text-align</span>: right;&#125;</span><br><span class="line"></span><br><span class="line">// 浮动与清除浮动</span><br><span class="line"><span class="selector-class">.fl</span> &#123;<span class="attribute">float</span>: left;&#125;</span><br><span class="line"><span class="selector-class">.fr</span> &#123;<span class="attribute">float</span>: right;&#125;</span><br><span class="line">.fix &#123;*zoom: 1;&#125;</span><br><span class="line"><span class="selector-class">.fix</span><span class="selector-pseudo">:after</span>&#123;<span class="attribute">display</span>:table; <span class="attribute">content</span>:<span class="string">''</span>; <span class="attribute">clear</span>:both;&#125;</span><br><span class="line"></span><br><span class="line">// 显示</span><br><span class="line"><span class="selector-class">.dn</span>&#123;<span class="attribute">display</span>:none;&#125;</span><br><span class="line"><span class="selector-class">.di</span>&#123;<span class="attribute">display</span>:inline;&#125;</span><br><span class="line"><span class="selector-class">.db</span>&#123;<span class="attribute">display</span>:block;&#125;</span><br><span class="line"><span class="selector-class">.dib</span>&#123;<span class="attribute">display</span>:inline-block;&#125;</span><br><span class="line"><span class="selector-class">.dt</span>&#123;<span class="attribute">display</span>:table;&#125;</span><br><span class="line">div.dib&#123;*display:inline; *zoom:1;&#125;</span><br><span class="line"><span class="selector-class">.vm</span> &#123;<span class="attribute">vertical-align</span>: middle;&#125;</span><br><span class="line"><span class="selector-class">.vib</span> &#123;<span class="attribute">display</span>:inline-block; <span class="attribute">vertical-align</span>: middle;&#125;</span><br><span class="line"></span><br><span class="line">// 定位</span><br><span class="line"><span class="selector-class">.pr</span> &#123;<span class="attribute">position</span>: relative;&#125;</span><br><span class="line"><span class="selector-class">.pa</span> &#123;<span class="attribute">position</span>: absolute;&#125;</span><br><span class="line"><span class="selector-class">.pf</span> &#123;<span class="attribute">position</span>: fixed;&#125;</span><br><span class="line"></span><br><span class="line">// 盒子模型</span><br><span class="line"><span class="selector-class">.ml4</span> &#123;<span class="attribute">margin-left</span>: <span class="number">4px</span>;&#125;</span><br><span class="line"><span class="selector-class">.mr4</span> &#123;<span class="attribute">margin-right</span>: <span class="number">4px</span>;&#125;</span><br><span class="line"><span class="selector-class">.mt4</span> &#123;<span class="attribute">margin-top</span>: <span class="number">4px</span>;&#125;</span><br><span class="line"><span class="selector-class">.mb4</span> &#123;<span class="attribute">margin-bottom</span>: <span class="number">4px</span>;&#125;</span><br><span class="line"><span class="selector-class">.ml8</span> &#123;<span class="attribute">margin-left</span>: <span class="number">8px</span>;&#125;</span><br><span class="line"><span class="selector-class">.mr8</span> &#123;<span class="attribute">margin-right</span>: <span class="number">8px</span>;&#125;</span><br><span class="line"><span class="selector-class">.mt8</span> &#123;<span class="attribute">margin-top</span>: <span class="number">8px</span>;&#125;</span><br><span class="line"><span class="selector-class">.mb8</span> &#123;<span class="attribute">margin-bottom</span>: <span class="number">8px</span>;&#125;</span><br><span class="line"><span class="selector-class">.ml12</span> &#123;<span class="attribute">margin-left</span>: <span class="number">12px</span>;&#125;</span><br><span class="line"><span class="selector-class">.mr12</span> &#123;<span class="attribute">margin-right</span>: <span class="number">12px</span>;&#125;</span><br><span class="line"><span class="selector-class">.mt12</span> &#123;<span class="attribute">margin-top</span>: <span class="number">12px</span>;&#125;</span><br><span class="line"><span class="selector-class">.mb12</span> &#123;<span class="attribute">margin-bottom</span>: <span class="number">12px</span>;&#125;</span><br><span class="line"><span class="selector-class">.ml16</span> &#123;<span class="attribute">margin-left</span>: <span class="number">16px</span>;&#125;</span><br><span class="line"><span class="selector-class">.mr16</span> &#123;<span class="attribute">margin-right</span>: <span class="number">16px</span>;&#125;</span><br><span class="line"><span class="selector-class">.mt16</span> &#123;<span class="attribute">margin-top</span>: <span class="number">16px</span>;&#125;</span><br><span class="line"><span class="selector-class">.mb16</span> &#123;<span class="attribute">margin-bottom</span>: <span class="number">16px</span>;&#125;</span><br><span class="line"><span class="selector-class">.ml20</span> &#123;<span class="attribute">margin-left</span>: <span class="number">20px</span>;&#125;</span><br><span class="line"><span class="selector-class">.mr20</span> &#123;<span class="attribute">margin-right</span>: <span class="number">20px</span>;&#125;</span><br><span class="line"><span class="selector-class">.mt20</span> &#123;<span class="attribute">margin-top</span>: <span class="number">20px</span>;&#125;</span><br><span class="line"><span class="selector-class">.mb20</span> &#123;<span class="attribute">margin-bottom</span>: <span class="number">20px</span>;&#125;</span><br><span class="line"><span class="selector-class">.ml24</span> &#123;<span class="attribute">margin-left</span>: <span class="number">24px</span>;&#125;</span><br><span class="line"><span class="selector-class">.mr24</span> &#123;<span class="attribute">margin-right</span>: <span class="number">24px</span>;&#125;</span><br><span class="line"><span class="selector-class">.mt24</span> &#123;<span class="attribute">margin-top</span>: <span class="number">24px</span>;&#125;</span><br><span class="line"><span class="selector-class">.mb24</span> &#123;<span class="attribute">margin-bottom</span>: <span class="number">24px</span>;&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.ml10</span> &#123;<span class="attribute">margin-left</span>: <span class="number">10px</span>;&#125;</span><br><span class="line"><span class="selector-class">.mr10</span> &#123;<span class="attribute">margin-right</span>: <span class="number">10px</span>;&#125;</span><br><span class="line"><span class="selector-class">.mt10</span> &#123;<span class="attribute">margin-top</span>: <span class="number">10px</span>;&#125;</span><br><span class="line"><span class="selector-class">.mb10</span> &#123;<span class="attribute">margin-bottom</span>: <span class="number">10px</span>;&#125;</span><br><span class="line"><span class="selector-class">.ml15</span> &#123;<span class="attribute">margin-left</span>: <span class="number">15px</span>;&#125;</span><br><span class="line"><span class="selector-class">.mr15</span> &#123;<span class="attribute">margin-right</span>: <span class="number">15px</span>;&#125;</span><br><span class="line"><span class="selector-class">.mt15</span> &#123;<span class="attribute">margin-top</span>: <span class="number">15px</span>;&#125;</span><br><span class="line"><span class="selector-class">.mb15</span> &#123;<span class="attribute">margin-bottom</span>: <span class="number">15px</span>;&#125;</span><br><span class="line"></span><br><span class="line">// 按钮禁用</span><br><span class="line"><span class="selector-class">.disabled</span>&#123;<span class="attribute">outline</span>:<span class="number">0</span> none; <span class="attribute">cursor</span>:default<span class="meta">!important</span>; <span class="attribute">opacity</span>:.<span class="number">4</span>; <span class="attribute">filter</span>:<span class="built_in">alpha</span>(opacity=<span class="number">40</span>); <span class="attribute">-ms-pointer-events</span>:none; <span class="attribute">pointer-events</span>:none;&#125;</span><br></pre></td></tr></table></figure></div><p><strong>增加样式入口文件</strong></p><p>最后一步，新建一个入口文件，将样式工具类全部导入进来，供主程序引入。</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.scss 文件</span></span><br><span class="line"><span class="comment">// @import './varibles.scss'</span></span><br><span class="line">@<span class="keyword">import</span> <span class="string">'./reset.scss'</span>;</span><br><span class="line">@<span class="keyword">import</span> <span class="string">'./utils.scss'</span>;</span><br></pre></td></tr></table></figure></div><blockquote><p>varibles.scss vue 配置中引入，这里无需引入</p></blockquote><p>在 <code>main.js</code> 中直接引入 <code>index.scss</code></p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'@/assets/styles/index.scss'</span></span><br></pre></td></tr></table></figure></div><h3 id="vue-中写样式要注意哪些方面，有哪些技巧呢？"><a href="#vue-中写样式要注意哪些方面，有哪些技巧呢？" class="headerlink" title="vue 中写样式要注意哪些方面，有哪些技巧呢？"></a>vue 中写样式要注意哪些方面，有哪些技巧呢？</h3><p><strong>避免全局污染</strong></p><p>在页面中写 <code>css/scss</code> 加上 <code>scoped</code>，<code>scoped</code> 的功能就是使页面的样式是局部的，不让影响其他页面的样式。</p><p><strong>bem 规范</strong><br>我们大多数人时候会遇到问题，<strong>样式嵌套太多了怎么命名</strong></p><blockquote><p>BEM是块（block）、元素（element）、修饰符（modifier）的简写，由 Yandex 团队提出的一种前端 CSS 命名方法论。</p></blockquote><p>名字太长易读性太差</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="SCSS"><figure class="iseeu highlight /scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.cardbox</span> &#123;</span><br><span class="line">    <span class="selector-class">.cardbox-card</span> &#123;</span><br><span class="line">        <span class="selector-class">.cardbox-card-wrapper</span></span><br><span class="line">            <span class="selector-class">.cardbox-card-wrapper-header</span> &#123;</span><br><span class="line">                <span class="selector-class">.cardbox-card-wrapper-header-title</span> &#123;</span><br><span class="line">                    <span class="comment">// ...</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="selector-class">.cardbox-card-wrapper-body</span>&#123;</span><br><span class="line">                <span class="selector-class">.cardbox-card-item</span> &#123;</span><br><span class="line">                    <span class="selector-class">.cardbox-card-item-title</span> &#123;</span><br><span class="line">                        <span class="comment">// ...</span></span><br><span class="line">                    &#125;  </span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><strong>bem 使用方式</strong><br><code>block-name__element-name--color</code></p><ul><li>区分块，子元素，修饰元素</li><li>块，页面中独立的单元</li><li>子元素，块里面的儿子 <code>card__item</code> 使用 __ 连接</li><li>子元素长命名使用 - 连接</li><li>修饰（易变的）<code>card__item--warning</code> 使用 –</li></ul><p>我们使用 bem 改造样式</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="SCSS"><figure class="iseeu highlight /scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.cardbox</span> &#123;</span><br><span class="line">    &amp;__header &#123;</span><br><span class="line">        &amp;__title &#123;</span><br><span class="line">            <span class="comment">//...</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &amp;__body &#123;</span><br><span class="line">        &amp;__item &#123;</span><br><span class="line">            &amp;__title &#123;</span><br><span class="line">                <span class="comment">//...</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><blockquote><p>bem 一般推荐子元素嵌套尽量在2-3层以内</p></blockquote><p>但是我们发现样式子元素嵌套有点多，使用了两重子元素嵌套。</p><p>大致原理是<strong>尝试分离父子元素的关系，把卡片本身当作一个块看待。</strong></p><p>下面来试着去减少嵌套：</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="SCSS"><figure class="iseeu highlight /scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.cardbox</span> &#123;</span><br><span class="line">    &amp;__header &#123;</span><br><span class="line">        &amp;__title &#123;</span><br><span class="line">            <span class="comment">//...</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &amp;__body &#123;</span><br><span class="line">        <span class="selector-class">.card</span> &#123;</span><br><span class="line">            &amp;__title &#123;</span><br><span class="line">                <span class="comment">//...</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>现在编写样式效率提高也更加规范了，那么编写 HTML 也是有很多累赘的代码。</p><p>比如大多数标签都是前开后闭的。通过 pug 我们可以省略很多字符的敲打，下面我们谈谈如何使用 pug 编写模版。</p><blockquote><p>当然喜欢哪种 HTML 编写风格见人见智啦，我自己更加倾向 pug，那种缩进和简洁的表达，有种在写 scss 的感觉。</p></blockquote><h3 id="如何使用-pug"><a href="#如何使用-pug" class="headerlink" title="如何使用 pug"></a>如何使用 pug</h3><p><strong>类似 sass，首先安装 pug 和 pug 的 loader</strong></p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add -D pug pug-html-loader pug-plain-loader</span><br></pre></td></tr></table></figure></div><p>完成配置</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  chainWebpack: <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">    config.module</span><br><span class="line">      .rule(<span class="string">'pug'</span>)</span><br><span class="line">      .test(<span class="regexp">/\.pug$/</span>)</span><br><span class="line">      .use(<span class="string">'pug-html-loader'</span>)</span><br><span class="line">      .loader(<span class="string">'pug-html-loader'</span>)</span><br><span class="line">      .end()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><strong>编写 pug 代码</strong><br>使用 scss 工具与 pug 完美搭配，少写很多代码</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// 登陆</span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">lang</span>=<span class="string">"pug"</span>&gt;</span></span><br><span class="line">  .login</span><br><span class="line">    h1.login__title.ml15 注册/登陆</span><br><span class="line">    .login__form.mt15.ml15</span><br><span class="line">      van-field.login__form__input(placeholder="输入手机号" v-model="phone")</span><br><span class="line">      .login__form__protocol.mt15</span><br><span class="line">        .login__form__protocol__tips.dib.text-weak 注册或登录即表示同意</span><br><span class="line">        .login__form__protocol__name.dib.color-orange 《用户协议》</span><br><span class="line">      app-button.mt15(size="large"</span><br><span class="line">        theme="orange"</span><br><span class="line">        :disabled="phone.length !== 11"</span><br><span class="line">        @click="handleSubmit"</span><br><span class="line">      ) 下一步</span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure></div><p>我们已经引入了样式，接下来我将谈谈其他资源的引入</p><h3 id="如何管理你的资源"><a href="#如何管理你的资源" class="headerlink" title="如何管理你的资源"></a>如何管理你的资源</h3><h4 id="原理与解决方案-2"><a href="#原理与解决方案-2" class="headerlink" title="原理与解决方案"></a>原理与解决方案</h4><p>我暂时把资源分为下面几种</p><ol><li>字体</li><li>icon</li><li>图片</li><li>样式<br><img src="/posts/8075ddb6/resource.jpg" alt="resource"></li></ol><p>把他们各自新建一个目录，都放在 <code>assets</code> 目录下面分门别类，供其他地方调用。 使用 <code>alias</code> 更好重命名，使之更便捷的访问到。</p><p>增加 <code>vue.config.js</code> 配置 ,设置<code>assets</code>别名</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">resolve</span>(<span class="params">dir</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> path.join(__dirname, dir)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  chainWebpack: <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">    config.resolve.alias.set(<span class="string">'@'</span>, resolve(<span class="string">'src'</span>)).set(<span class="string">'@assets'</span>, resolve(<span class="string">'src/assets'</span>))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h4 id="ICON"><a href="#ICON" class="headerlink" title="ICON"></a>ICON</h4><p>引入 iconfont</p><ol><li><a href="https://www.iconfont.cn/manage/index" target="_blank" rel="noopener">iconfont</a> 阿里图标项目中下载，将整个项目图标包一起下载下来</li></ol><p><img src="/posts/8075ddb6/icon.jpg" alt="icon"></p><ol start="2"><li>引入 iconfont 样式 需要下面四个文件</li></ol><ul><li>iconfont.eot</li><li>iconfont.ttf</li><li>iconfont.woff</li><li>iconfont.woff2</li></ul><ol start="3"><li>项目中引入 iconfont 让 <code>icon</code> 组件化</li></ol><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont"</span> <span class="attr">v-on</span>=<span class="string">"$listeners"</span> <span class="attr">:class</span>=<span class="string">"name"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line">  props: &#123;</span><br><span class="line"><span class="javascript">    name: <span class="built_in">String</span></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">"scss"</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-class">.iconfont</span> &#123;</span></span><br><span class="line">  font-size: 16px;</span><br><span class="line">  color: $color-icon;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></div><p><strong>引入图片作为 ICON</strong><br>让图片组件化，我们再来写一个 img 组件</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">lang</span>=<span class="string">"pug"</span>&gt;</span></span><br><span class="line">  img(</span><br><span class="line">    :src="require(`@/assets/images/$&#123;name&#125;.png`)"</span><br><span class="line">    v-bind="$attrs"</span><br><span class="line">    v-on="$listeners"</span><br><span class="line">    :style="&#123;'width': width ? width + 'px' : size + 'px', 'height': height ? height + 'px' : size + 'px' &#125;")</span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">  name: <span class="string">'app-img'</span>,</span></span><br><span class="line">  props: &#123;</span><br><span class="line">    name: &#123;</span><br><span class="line"><span class="javascript">      type: <span class="built_in">String</span>,</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">default</span>: <span class="string">''</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    size: &#123;</span><br><span class="line"><span class="javascript">      type: <span class="built_in">Number</span>,</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">default</span>: <span class="number">16</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    width: &#123;</span><br><span class="line"><span class="javascript">      type: <span class="built_in">Number</span>,</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">default</span>: <span class="number">0</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    height: &#123;</span><br><span class="line"><span class="javascript">      type: <span class="built_in">Number</span>,</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">default</span>: <span class="number">0</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></div><h3 id="如何管理你的路由"><a href="#如何管理你的路由" class="headerlink" title="如何管理你的路由"></a>如何管理你的路由</h3><p><strong>原理与解决方案</strong></p><p>使用 vue-router，使用<code>import()</code> 生成异步路由，只有在访问时候才会加载模块。</p><p>为什么使用 <code>import()</code> 会异步加载模块？</p><blockquote><p>MDN：在您希望按照一定的条件或者按需加载模块的时候，动态import() 是非常有用的。而静态型的 import 是初始化加载依赖项的最优选择，使用静态 import 更容易从代码静态分析工具和 tree shaking 中受益。</p></blockquote><p>说白了就是起到一个按需加载的目的。现在大多数实现的按需加载，基本都是依赖 import() 这个方法。</p><p><strong>安装 vue-router</strong></p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add vue-router</span><br></pre></td></tr></table></figure></div><p>安装完 <code>router</code>，在编写 <code>router</code> 先创建页面</p><p><strong>新建一个空页面</strong><br>src 目录下新增 views 目录存放页面文件。创建 index 目录和 home 页面</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">lang</span>=<span class="string">"pug"</span>&gt;</span></span><br><span class="line">  .home 首页</span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">"scss"</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></div><p><strong>编写路由</strong></p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 首页</span></span><br><span class="line">        path: <span class="string">'/'</span>,</span><br><span class="line">        name: <span class="string">'index'</span>,</span><br><span class="line">        redirect: <span class="string">'/home'</span>,</span><br><span class="line">        component: App,</span><br><span class="line">        children: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// 首页</span></span><br><span class="line">                path: <span class="string">'home'</span>,</span><br><span class="line">                name: <span class="string">'home'</span>,</span><br><span class="line">                <span class="comment">// 路由懒加载</span></span><br><span class="line">                component: <span class="function"><span class="params">()</span> =&gt;</span></span><br><span class="line">                    <span class="keyword">import</span>(</span><br><span class="line">                        <span class="comment">/* webpackChunkName: "index" */</span> <span class="string">'../views/index/home.vue'</span></span><br><span class="line">                    )</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">    mode: <span class="string">'history'</span>,</span><br><span class="line">    routes: routes,</span><br><span class="line">    base: process.env.BASE_URL,</span><br><span class="line">    props: <span class="literal">true</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure></div><blockquote><p>为了消除 # 显得路径更加好看简洁，我们采用 history 模式，但是 history 模式有个问题就是，异步路由没有缓存在页面中，第一次进入页面会找不到</p></blockquote><p>在 vue.config.js 中增加配置，开发环境可以访问到，恢复正常</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  devServer: &#123;</span><br><span class="line">    historyApiFallback: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><blockquote><p>关于路由还有很多可以研究到地方，可以自行研究哦！</p></blockquote><h3 id="组件化开发"><a href="#组件化开发" class="headerlink" title="组件化开发"></a>组件化开发</h3><p>原理与解决方案<br>一般来说，我们根据组件的复用度，分给基础（公共）组件和业务组件。</p><p>为了节省时间，快速开发，这里基础组件大部分引用开源组件。当然不能直接就用哦。</p><p>一般要进行二次封装，也就是高阶组件开发。</p><ol><li>通过修改和覆盖当前组件的样式来达到修改样式的作用。</li><li>通过拦截事件来更改js的逻辑。<br>下面我们先引入 <code>vant</code> 组件</li></ol><h4 id="实践-2"><a href="#实践-2" class="headerlink" title="实践"></a>实践</h4><p><strong>引入 vant</strong></p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add vant</span><br></pre></td></tr></table></figure></div><h4 id="对基础组件进行二次封装和改造"><a href="#对基础组件进行二次封装和改造" class="headerlink" title="对基础组件进行二次封装和改造"></a>对基础组件进行二次封装和改造</h4><p>下面 7 步来写好一个公共组件</p><ol><li>新建一个 <code>components</code> 目录来存放基础组件</li><li>基础组件命名为 <code>app-xxx</code> 或 <code>appXxx</code>，新建一个 <code>app-button</code> 目录，新建 <code>index.vue</code></li><li>根据设计稿设计和编写组件</li></ol><blockquote><p>编写组件之前首先要设计组件，根据组件的不变性和可变性原则编写。不变性是组件的核心，可变性根据参数对组件对相关部分进行调节，实现可选择的功能。</p></blockquote><ol start="4"><li>实现组件</li></ol><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">lang</span>=<span class="string">"pug"</span>&gt;</span></span><br><span class="line">  div.dib</span><br><span class="line">    van-button.btn(</span><br><span class="line">      @click="$emit('click')"</span><br><span class="line">      :class="getClass" v-bind="$attrs"</span><br><span class="line">      :style="&#123;'width': size === 'large' ? '345px': '', 'backgroundColor': getBgColor, borderColor: getBgColor, color: getBgColor&#125;")</span><br><span class="line">      slot</span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> &#123; Button &#125; <span class="keyword">from</span> <span class="string">'vant'</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> &#123; getColor &#125; <span class="keyword">from</span> <span class="string">'@/utils'</span></span></span><br><span class="line">Vue.use(Button)</span><br><span class="line"></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">  name: <span class="string">'app-button'</span>,</span></span><br><span class="line">  props: &#123;</span><br><span class="line">    type: &#123;</span><br><span class="line"><span class="javascript">      type: <span class="built_in">String</span>,</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">default</span>: <span class="string">'primary'</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    theme: &#123;</span><br><span class="line"><span class="javascript">      type: <span class="built_in">String</span>,</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">default</span>: <span class="string">'blue'</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    size: &#123;</span><br><span class="line"><span class="javascript">      type: <span class="built_in">String</span>,</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">default</span>: <span class="string">''</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    getClass() &#123;</span><br><span class="line"><span class="actionscript">      <span class="keyword">if</span> (!<span class="keyword">this</span>.type) &#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> <span class="string">''</span></span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> <span class="string">`app-btn--<span class="subst">$&#123;<span class="keyword">this</span>.type&#125;</span>`</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    getBgColor() &#123;</span><br><span class="line"><span class="actionscript">      <span class="keyword">if</span> (!<span class="keyword">this</span>.theme) &#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> <span class="string">''</span></span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="actionscript">      <span class="keyword">return</span> getColor(<span class="keyword">this</span>.theme)</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">"scss"</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-class">.app-btn</span>  &#123;</span></span><br><span class="line"><span class="css">  <span class="selector-pseudo">::v-deep</span> &amp;<span class="selector-tag">--primary</span> &#123;</span></span><br><span class="line">    padding: 8px 30px;</span><br><span class="line">    height: 40px;</span><br><span class="line">    border-radius: 4px;</span><br><span class="line">    font-size: 15px;</span><br><span class="line">    font-weight: 400;</span><br><span class="line">    line-height: 19px;</span><br><span class="line">    color: white!important;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-pseudo">::v-deep</span> &amp;<span class="selector-tag">--minor</span> &#123;</span></span><br><span class="line">    padding: 5px 10px;</span><br><span class="line">    height: 26px;</span><br><span class="line">    border-radius: 14px;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">    font-weight: 400;</span><br><span class="line">    line-height: 16px;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span>!<span class="selector-tag">important</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-pseudo">::v-deep</span> &amp;<span class="selector-tag">--rect</span> &#123;</span></span><br><span class="line">    padding: 5px px;</span><br><span class="line">    height: 49px;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    color: white!important;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></div><blockquote><p>::v-deep 样式深覆盖，scoped 情况下覆盖组件样式，不改变其样式</p></blockquote><ol start="5"><li>写好基础组件 README，为什么要写文档呢？如果多人开发同一个项目，基础组件会被其他人引用。方便其他人使用，所以要写文档。</li></ol><blockquote><p>一句话言：只要可能被其他人用的公共方法和组件，注释或文档是很重要的，对自己的代码负责哈。<br>其他用法参照 vant</p></blockquote><ol start="6"><li>全局引用，基础组件许多页面都会用到，将其设置成全局组件，其他地方就不必再引用了哦。</li></ol><p>新建一个文件 <code>global</code> 存放全局组件注册，在 <code>main.js</code> 引入</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> appButton <span class="keyword">from</span> <span class="string">'@/components/app-button'</span></span><br><span class="line">Vue.component(<span class="string">'app-button'</span>, appButton)</span><br></pre></td></tr></table></figure></div><ol start="7"><li>写好 <code>demo</code>，即使暂时不写单元测试，也要写好一个 <code>demo</code>，使之能正常的运行</li></ol><p>添加 demo 页面和路由</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">lang</span>=<span class="string">"pug"</span>&gt;</span></span><br><span class="line">  div(class="base")</span><br><span class="line">    // 按钮组件</span><br><span class="line">    app-button.mt4(theme="blue") 确认支付</span><br><span class="line">    app-button(theme="orange") 确认支付</span><br><span class="line">    app-button(theme="purple") 确认支付</span><br><span class="line">    app-button.mt4(theme="red") 确认支付</span><br><span class="line">    app-button(theme="grey") 确认支付</span><br><span class="line">    app-button.mt4(theme="blue" size="large") 修改地址</span><br><span class="line">    app-button.mt4(theme="orange" size="large") 修改地址</span><br><span class="line">    app-button.mt4(theme="purple" size="large") 修改地址</span><br><span class="line">    app-button.mt4(theme="red" size="large") 修改地址</span><br><span class="line">    app-button.mt4(theme="grey" size="large") 修改地址</span><br><span class="line">    app-button.mt4(theme="blue" type="minor") 确认收货</span><br><span class="line">    app-button(theme="orange" type="minor") 确认收货</span><br><span class="line">    app-button(theme="purple" type="minor") 确认收货</span><br><span class="line">    app-button(theme="red" type="minor") 修改地址</span><br><span class="line">    app-button(theme="grey" type="minor") 修改地址</span><br><span class="line">    app-button.mt4(theme="blue" type="rect") 确认收货</span><br><span class="line">    app-button(theme="orange" type="rect") 确认收货</span><br><span class="line">    app-button(theme="purple" type="rect") 确认收货</span><br><span class="line">    app-button(theme="red" type="rect") 修改地址</span><br><span class="line">    app-button(theme="grey" type="rect") 修改地址</span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">"scss"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></div><p><strong>实现效果</strong></p><p><img src="/posts/8075ddb6/component.jpg" alt="组件化"></p><h3 id="如何封装请求"><a href="#如何封装请求" class="headerlink" title="如何封装请求"></a>如何封装请求</h3><p><strong>原理与解决方案</strong></p><p>基本上就是对 axios 的封装，封装主要有两个目的。</p><ol><li>修改一些基础的配置：请求地址，超时，其他的杂七杂八的</li><li>统一操作：统一处理错误，统一处理请求参数和格式，响应参数和格式。统一处理 message，统一拦截挂载等等。</li></ol><p>网上已经有很多类似的文章了， 我这里给出我常用的封装方案。</p><h4 id="实践-3"><a href="#实践-3" class="headerlink" title="实践"></a>实践</h4><p><strong>根据不同环境设置请求地址</strong></p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .env-default.js 文件</span></span><br><span class="line"><span class="comment">// 不同环境访问不同的路径</span></span><br><span class="line"><span class="keyword">const</span> api = &#123;</span><br><span class="line">  develop: <span class="string">'http://xxxx:8080'</span>,</span><br><span class="line">  mock: <span class="string">'http://xxxx'</span>,</span><br><span class="line">  feature: <span class="string">'http://xxxx'</span>,</span><br><span class="line">  test: <span class="string">'http://xxxx'</span>,</span><br><span class="line">  production: <span class="string">'http://xxxx'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> baseURL = api[process.env.NODE_ENV || <span class="string">'dev'</span>]</span><br></pre></td></tr></table></figure></div><blockquote><p>因为每个人开发环境，mock环境不一定相同，这个文件建议 gitignore忽略掉。模版可以写在 readme 文档中，启动项目时加入文件。</p></blockquote><p><strong>新建一个 <code>utils</code> 工具</strong></p><p>我们现在将 axios 封装成我们自己需要的配置，然后定义四个常用的请求方法供调用</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// utils/http.js 文件</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></span><br><span class="line"><span class="keyword">import</span> &#123; baseURL &#125; <span class="keyword">from</span> <span class="string">'../../.env-defalut.js'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// axios 配置</span></span><br><span class="line"><span class="keyword">const</span> defaultBaseUrl = <span class="string">'http://localhost:8080/'</span></span><br><span class="line"><span class="comment">// 默认超时时间</span></span><br><span class="line">axios.defaults.timeout = <span class="number">15000</span></span><br><span class="line"><span class="comment">// 数据接口域名统一配置.env</span></span><br><span class="line">axios.defaults.baseURL = baseURL || defaultBaseUrl </span><br><span class="line"></span><br><span class="line"><span class="comment">// http request 拦截器</span></span><br><span class="line">axios.interceptors.request.use(</span><br><span class="line">  (config) =&gt; &#123;</span><br><span class="line">    config.headers = &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> config</span><br><span class="line">  &#125;,</span><br><span class="line">  (err) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(err)</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// http response 拦截器</span></span><br><span class="line">axios.interceptors.response.use(</span><br><span class="line">  (response) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> response</span><br><span class="line">  &#125;,</span><br><span class="line">  (error) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> data = error.response.data</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(data || error)</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> axios</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * fetch 请求方法</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> <span class="variable">url</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> <span class="variable">params</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">fetch</span>(<span class="params">url, params = &#123;&#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    axios</span><br><span class="line">      .get(url, &#123;</span><br><span class="line">        params: params</span><br><span class="line">      &#125;)</span><br><span class="line">      .then(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">        resolve(response.data)</span><br><span class="line">      &#125;)</span><br><span class="line">      .catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">        reject(err)</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * post 请求方法，发送数据格式 json</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> <span class="variable">url</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> <span class="variable">data</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">post</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  url,</span></span></span><br><span class="line"><span class="function"><span class="params">  data = &#123;&#125;,</span></span></span><br><span class="line"><span class="function"><span class="params">  config = &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">    transformRequest: [</span></span></span><br><span class="line"><span class="function"><span class="params">      function(fData, headers</span>) </span>&#123;</span><br><span class="line">        headers[<span class="string">'Content-Type'</span>] = <span class="string">'application/json'</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">JSON</span>.stringify(fData)</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    axios.post(url, data, config).then(</span><br><span class="line">      (response) =&gt; &#123;</span><br><span class="line">        resolve(response.data)</span><br><span class="line">      &#125;,</span><br><span class="line">      (err) =&gt; &#123;</span><br><span class="line">        reject(err)</span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * patch 请求方法，发送数据格式 json</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> <span class="variable">url</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> <span class="variable">data</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">patch</span>(<span class="params">url, data = &#123;&#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    axios</span><br><span class="line">      .patch(url, data, &#123;</span><br><span class="line">        transformRequest: [</span><br><span class="line">          <span class="function"><span class="keyword">function</span>(<span class="params">fData, headers</span>) </span>&#123;</span><br><span class="line">            headers[<span class="string">'Content-Type'</span>] = <span class="string">'application/json'</span></span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">JSON</span>.stringify(fData)</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;)</span><br><span class="line">      .then(</span><br><span class="line">        (response) =&gt; &#123;</span><br><span class="line">          resolve(response.data)</span><br><span class="line">        &#125;,</span><br><span class="line">        (err) =&gt; &#123;</span><br><span class="line">          reject(err)</span><br><span class="line">        &#125;</span><br><span class="line">      )</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">del</span>(<span class="params">url, data</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    axios.delete(url, &#123; data &#125;).then(</span><br><span class="line">      (response) =&gt; &#123;</span><br><span class="line">        resolve(response.data)</span><br><span class="line">      &#125;,</span><br><span class="line">      (err) =&gt; &#123;</span><br><span class="line">        reject(err)</span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h3 id="如何管理-api"><a href="#如何管理-api" class="headerlink" title="如何管理 api"></a>如何管理 api</h3><p><strong>原理</strong><br>首先要制定一个 api 的原则 我的原则一般是这些：</p><ol><li>干净纯粹</li><li>尽量不要处理数据</li><li>独立单一不要互相依赖</li></ol><p>好处在于：不在 api 里面处理数据，api里面的接口和接口文档上一样。避免别人引用我的api，还要去看代码，只需要看文档就好了。</p><blockquote><p>例子：想象这样一种情况，别人引用了我的 api，突然发现响应数据不对。首先它排查到页面数据没更改。看了api文档，数据也没问题，最后发现我在写 api 的时候进行了处理，这个 api 呢又不能改动，改了影响我自己的模块。只能它在重新写一个api，这样显得很繁杂了，不够干净优雅。</p></blockquote><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; fetch, post &#125; <span class="keyword">from</span> <span class="string">'@/utils/http'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 用户登陆</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> login = <span class="function"><span class="params">data</span> =&gt;</span> post(<span class="string">'/user/login'</span>, data)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取用户信息</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getUserInfo = <span class="function">(<span class="params">data</span>) =&gt;</span> fetch(<span class="string">'/api/user/info'</span>, data)</span><br></pre></td></tr></table></figure></div><p>如果需要处理数据，要么使用一个中间工具处理，要么在页面里面处理。当然还是实际问题实际分析。</p><h3 id="如何使用mock模拟数据"><a href="#如何使用mock模拟数据" class="headerlink" title="如何使用mock模拟数据"></a>如何使用mock模拟数据</h3><h4 id="原理与解决方案-3"><a href="#原理与解决方案-3" class="headerlink" title="原理与解决方案"></a>原理与解决方案</h4><p>一般就是两种方案，一是模拟后端，使用远程在线 JSON 服务器。另外一种搭建本地 JSON 或者 使用现成的 Node 服务器拦截请求。</p><blockquote><p>这两种方式各有千秋，没有优劣之分，适合就是最好的。</p></blockquote><h4 id="远程在线mock"><a href="#远程在线mock" class="headerlink" title="远程在线mock"></a>远程在线mock</h4><ul><li>apizza：好用，功能齐全，喜欢他的文件展开目录api，免费版只支持 2 个人共同编辑</li><li>swagger：开源免费，api管理太凌乱，</li><li>rap/rap2：开源免费，可以搭建本地api，需要自己搭建</li></ul><p><strong>使用远程mock的优点：</strong></p><ul><li>不需要在项目内部增加mock</li><li>功能更加全面完善</li><li>可以在接口文档基础上mock，与接口文档放在一起查看更加方便。</li></ul><p><strong>缺点：需要自己另外搭建服务器，只支持静态的mock，不能与单元测试结合使用</strong></p><h4 id="本地JSON-mock"><a href="#本地JSON-mock" class="headerlink" title="本地JSON mock"></a>本地JSON mock</h4><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">devServer: &#123;</span><br><span class="line">    <span class="comment">// 接口未实现情况下，使用mock</span></span><br><span class="line">    before: <span class="built_in">require</span>(<span class="string">'./mock'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>基本原理：主要是使用 <code>node</code> 读取文件，转换成 <code>JSON</code> 格式，使用<code>mock.js</code> 模拟数据，最后 <code>webpack</code> 拦截请求生成<code>json</code>响应数据</p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Mock = <span class="built_in">require</span>(<span class="string">'mockjs'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function">(<span class="params">app</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">getJsonFile</span> (<span class="params">filePath</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> json = fs.readFileSync(path.resolve(__dirname, filePath), <span class="string">'utf-8'</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">JSON</span>.parse(json)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">const</span> returnMock = <span class="function">(<span class="params">datafile, res, req</span>) =&gt;</span> &#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">var</span> json</span><br><span class="line">            <span class="keyword">if</span> (<span class="regexp">/\.json$/</span>.test(datafile)) &#123;</span><br><span class="line">                <span class="comment">// json文件暴露的是mock的模板</span></span><br><span class="line">                json = getJsonFile(datafile)</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/\.js$/</span>.test(datafile)) &#123;</span><br><span class="line">                json = <span class="built_in">require</span>(datafile)(req.query)</span><br><span class="line">            &#125;</span><br><span class="line">            res.json(Mock.mock(json))</span><br><span class="line">        &#125;, <span class="number">500</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>使用 <code>json-server</code> 搭建 主要分为下面几步</p><ol><li>npm 安装 json-server</li><li>编写 npm 脚本命令，引入 mock 配置文件</li><li>编写 mock 路由匹配规则</li></ol><blockquote><p>比较简单这里不详细描述了！</p></blockquote><p><strong>本地的缺点在于:</strong></p><ol><li>前端需要根据api文档写mock数据格式</li><li>功能没有远程mock那么完善，支持restful需要去研究下</li><li>也是需要配置相关mock工具</li></ol><p><strong>优点在于:</strong></p><ol><li>不用查看编辑<code>api</code>文档</li><li>在代码中就可以更改和查看<code>mock</code>数据</li><li>支持使用<code>JavaScipt</code>动态处<code>mock</code>，可以与单元测试结合使用</li></ol><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>文章根据个人开发经验以及参考各类资料作为记录，由于技术水平有限，文章中如有错误的地方，请在评论区指出，谢谢</p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="https://github.com/commitizen/cz-cli" target="_blank" rel="noopener">commitizen</a><br><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/import" target="_blank" rel="noopener">MDN import()</a><br><a href="https://youzan.github.io/vant/#/zh-CN/" target="_blank" rel="noopener">vant 文档</a><br><a href="https://eslint.org/" target="_blank" rel="noopener">eslint 文档</a><br><a href="https://router.vuejs.org/zh/" target="_blank" rel="noopener">vue-router 文档</a><br><a href="https://github.com/axios/axios" target="_blank" rel="noopener">axios 文档</a></p></div><div class="popular-posts-header"><i class="fa fa-graduation-cap"></i> 相关文章</div><details><summary>点击查看</summary><ul class="popular-posts"><li class="popular-posts-item"><div class="popular-posts-title"><a href="\posts\d495ca98.html" rel="bookmark">Vue之虚拟DOM(vdom)</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="\posts\77185e63.html" rel="bookmark">Vue父子组件生命周期</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="\posts\d03e3346.html" rel="bookmark">Vue中的$nextTick机制</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="\posts\7f8f5d1.html" rel="bookmark">Vue渲染过程</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="\posts\383dff78.html" rel="bookmark">Vue组件通信</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="\posts\6f7db675.html" rel="bookmark">Vue生命周期详解</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="\posts\2ff2666.html" rel="bookmark">Vuex的使用及原理</a></div></li></ul></details><div></div><div><div><div class="read-over">-------------------本文结束 <i class="fa fa-paw"></i> 感谢您的阅读-------------------</div></div></div><div><div class="share_reward"><div>坚持原创技术分享，感谢您的支持和鼓励！</div><button id="rewardButton" disable="enable" onclick='var e=document.getElementById("QR");"none"===e.style.display?e.style.display="block":e.style.display="none"'><span>打赏</span></button><div id="QR" style="display:none"><div id="wechat" style="display:inline-block"><img id="wechat_qr" src="/images/wechatpay.png" alt="丶远方 微信支付"><p>微信支付</p></div><div id="alipay" style="display:inline-block"><img id="alipay_qr" src="/images/alipay.png" alt="丶远方 支付宝"><p>支付宝</p></div></div></div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/Vue/" rel="tag"><i class="fa fa-tag"></i> Vue</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/posts/cda9cb27.html" rel="next" title="与Promise血脉相连的async/await"><i class="fa fa-chevron-left"></i> 与Promise血脉相连的async/await</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/posts/c7506d5c.html" rel="prev" title="太极24式-ES6">太极24式-ES6 <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"><div data-weibo-title="分享到微博" data-qq-title="分享到QQ" data-douban-title="分享到豆瓣" class="social-share" class="share-component" data-disabled="qzone,google+,linkedin" data-description="Share.js - 一键分享到微博，QQ空间，腾讯微博，人人，豆瓣...">分享到：</div></div></div></div><div class="comments" id="comments"></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div id="sidebar-dimmer"></div><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">文章目录</li><li class="sidebar-nav-overview" data-target="site-overview-wrap">站点概览</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/"><img class="site-author-image" itemprop="image" src="/images/photograph.JPG" alt="丶远方"></a><p class="site-author-name" itemprop="name">丶远方</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">24</span> <span class="site-state-item-name">文章</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/index.html"><span class="site-state-item-count">5</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/index.html"><span class="site-state-item-count">5</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a rel="external nofollow" href="https://github.com/Alfred-Skyblue" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a> </span><span class="links-of-author-item"><a rel="external nofollow" href="https://gitee.com/yuan_fangY" target="_blank" title="Gitee"><i class="fa fa-fw fa-git"></i>Gitee</a> </span><span class="links-of-author-item"><a rel="external nofollow" href="mailto:leaf793458585@gmail.com" target="_blank" title="E-Mail"><i class="fa fa-fw fa-envelope"></i>E-Mail</a> </span><span class="links-of-author-item"><a rel="external nofollow" href="https://mp.csdn.net/console/article" target="_blank" title="CSDN"><i class="fa fa-fw fa-book"></i>CSDN</a> </span><span class="links-of-author-item"><a rel="external nofollow" href="http://my.yptup.top/" target="_blank" title="个人网站"><i class="fa fa-fw fa-internet-explorer"></i>个人网站</a> </span><span class="links-of-author-item"><a rel="external nofollow" href="http://resume.yptup.top/" target="_blank" title="个人简历"><i class="fa fa-fw fa-address-card-o"></i>个人简历</a></span></div><div class="links-of-blogroll motion-element links-of-blogroll-block"><div class="links-of-blogroll-title"><i class="fa fa-history fa-" aria-hidden="true"></i> 近期文章</div><ul class="links-of-blogroll-list"><li class="my-links-of-blogroll-li"><a href="/posts/d37f7175.html" title="玩转JS面向对象" target="_blank">玩转JS面向对象</a></li><li class="my-links-of-blogroll-li"><a href="/posts/d495ca98.html" title="Vue之虚拟DOM(vdom)" target="_blank">Vue之虚拟DOM(vdom)</a></li><li class="my-links-of-blogroll-li"><a href="/posts/40c42b37.html" title="《终身成长》读后感" target="_blank">《终身成长》读后感</a></li><li class="my-links-of-blogroll-li"><a href="/posts/77185e63.html" title="Vue父子组件生命周期" target="_blank">Vue父子组件生命周期</a></li><li class="my-links-of-blogroll-li"><a href="/posts/d03e3346.html" title="Vue中的$nextTick机制" target="_blank">Vue中的$nextTick机制</a></li></ul></div><div><canvas id="canvas" style="width:60%"></canvas></div><script>!function(){function t(t){var r=[];a.fillStyle="#005eac";var h=new Date,u=70,s=30,v=h.getHours(),g=Math.floor(v/10),m=v%10;r.push({num:g}),r.push({num:m}),r.push({num:10});var c=h.getMinutes(),g=Math.floor(c/10),m=c%10;r.push({num:g}),r.push({num:m}),r.push({num:10});var M=h.getSeconds(),g=Math.floor(M/10),m=M%10;r.push({num:g}),r.push({num:m});for(var p=0;p<r.length;p++)r[p].offsetX=u,u=f(u,s,r[p].num,t),p<r.length-1&&10!=r[p].num&&10!=r[p+1].num&&(u+=l);if(0==i.length)i=r;else for(var C=0;C<i.length;C++)i[C].num!=r[C].num&&(n(r[C]),i[C].num=r[C].num);return e(t),o(),h}function n(t){for(var n=t.num,e=m[n],o=0;o<e.length;o++)for(var f=0;f<e[o].length;f++)if(1==e[o][f]){var a={offsetX:t.offsetX+u+2*u*f,offsetY:30+u+2*u*o,color:g[Math.floor(Math.random()*g.length)],g:1.5+Math.random(),vx:4*Math.pow(-1,Math.ceil(10*Math.random()))+Math.random(),vy:-5};v.push(a)}}function e(t){for(var n=0;n<v.length;n++)t.beginPath(),t.fillStyle=v[n].color,t.arc(v[n].offsetX,v[n].offsetY,u,0,2*Math.PI),t.fill()}function o(){for(var t=0,n=0;n<v.length;n++){var e=v[n];e.offsetX+=e.vx,e.offsetY+=e.vy,e.vy+=e.g,e.offsetY>h-u&&(e.offsetY=h-u,e.vy=-e.vy*s),e.offsetX>u&&e.offsetX<r-u&&(v[t]=v[n],t++)}for(;t<v.length;t++)v.pop()}function f(t,n,e,o){for(var f=m[e],a=0;a<f.length;a++)for(var r=0;r<f[a].length;r++)1==f[a][r]&&(o.beginPath(),o.arc(t+u+2*u*r,n+u+2*u*a,u,0,2*Math.PI),o.fill());return o.beginPath(),t+=f[0].length*u*2}var a,r=820,h=250,u=7,l=10,s=.65,v=[];const g=["#33B5E5","#0099CC","#AA66CC","#9933CC","#99CC00","#669900","#FFBB33","#FF8800","#FF4444","#CC0000"];var i=[],m=[[[0,0,1,1,1,0,0],[0,1,1,0,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,0,1,1,0],[0,0,1,1,1,0,0]],[[0,0,0,1,1,0,0],[0,1,1,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[1,1,1,1,1,1,1]],[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,1,1,0,0,0],[0,1,1,0,0,0,0],[1,1,0,0,0,0,0],[1,1,0,0,0,1,1],[1,1,1,1,1,1,1]],[[1,1,1,1,1,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,1,1,0],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[0,0,0,0,1,1,0],[0,0,0,1,1,1,0],[0,0,1,1,1,1,0],[0,1,1,0,1,1,0],[1,1,0,0,1,1,0],[1,1,1,1,1,1,1],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,1,1,1,1]],[[1,1,1,1,1,1,1],[1,1,0,0,0,0,0],[1,1,0,0,0,0,0],[1,1,1,1,1,1,0],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[0,0,0,0,1,1,0],[0,0,1,1,0,0,0],[0,1,1,0,0,0,0],[1,1,0,0,0,0,0],[1,1,0,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[1,1,1,1,1,1,1],[1,1,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0]],[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,1,1,0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,1,1,0],[0,1,1,0],[0,0,0,0],[0,0,0,0],[0,1,1,0],[0,1,1,0],[0,0,0,0],[0,0,0,0]]],c=document.getElementById("canvas");c.width=r,c.height=h,a=c.getContext("2d");new Date;setInterval(function(){a.clearRect(0,0,a.canvas.width,a.canvas.height),t(a)},50)}()</script><div id="days"></div><script language="javascript">function show_date_time(){window.setTimeout("show_date_time()",1e3),BirthDay=new Date("08/07/2019 20:00:00"),today=new Date,timeold=today.getTime()-BirthDay.getTime(),sectimeold=timeold/1e3,secondsold=Math.floor(sectimeold),msPerDay=864e5,e_daysold=timeold/msPerDay,daysold=Math.floor(e_daysold),e_hrsold=24*(e_daysold-daysold),hrsold=setzero(Math.floor(e_hrsold)),e_minsold=60*(e_hrsold-hrsold),minsold=setzero(Math.floor(60*(e_hrsold-hrsold))),seconds=setzero(Math.floor(60*(e_minsold-minsold))),document.getElementById("days").innerHTML="已运行"+daysold+"天"+hrsold+"时"+minsold+"分"+seconds+"秒"}function setzero(e){return e<10&&(e="0"+e),e}show_date_time()</script></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#前言"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#概览"><span class="nav-number">2.</span> <span class="nav-text">概览</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#问题"><span class="nav-number">3.</span> <span class="nav-text">问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#实践"><span class="nav-number">4.</span> <span class="nav-text">实践</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#如何规范-git-提交"><span class="nav-number">4.1.</span> <span class="nav-text">如何规范 git 提交</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#原理"><span class="nav-number">4.1.1.</span> <span class="nav-text">原理</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#如何管理代码风格"><span class="nav-number">4.2.</span> <span class="nav-text">如何管理代码风格</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#原理与解决方案"><span class="nav-number">4.2.1.</span> <span class="nav-text">原理与解决方案</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#实践-1"><span class="nav-number">4.2.2.</span> <span class="nav-text">实践</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用-prettier"><span class="nav-number">4.2.3.</span> <span class="nav-text">使用 prettier</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#如何提升编码效率"><span class="nav-number">4.3.</span> <span class="nav-text">如何提升编码效率</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#原理与解决方案-1"><span class="nav-number">4.3.1.</span> <span class="nav-text">原理与解决方案</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用-Sass"><span class="nav-number">4.3.2.</span> <span class="nav-text">使用 Sass</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#如何处理样式"><span class="nav-number">4.3.3.</span> <span class="nav-text">如何处理样式</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vue-中写样式要注意哪些方面，有哪些技巧呢？"><span class="nav-number">4.4.</span> <span class="nav-text">vue 中写样式要注意哪些方面，有哪些技巧呢？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#如何使用-pug"><span class="nav-number">4.5.</span> <span class="nav-text">如何使用 pug</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#如何管理你的资源"><span class="nav-number">4.6.</span> <span class="nav-text">如何管理你的资源</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#原理与解决方案-2"><span class="nav-number">4.6.1.</span> <span class="nav-text">原理与解决方案</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ICON"><span class="nav-number">4.6.2.</span> <span class="nav-text">ICON</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#如何管理你的路由"><span class="nav-number">4.7.</span> <span class="nav-text">如何管理你的路由</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#组件化开发"><span class="nav-number">4.8.</span> <span class="nav-text">组件化开发</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#实践-2"><span class="nav-number">4.8.1.</span> <span class="nav-text">实践</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#对基础组件进行二次封装和改造"><span class="nav-number">4.8.2.</span> <span class="nav-text">对基础组件进行二次封装和改造</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#如何封装请求"><span class="nav-number">4.9.</span> <span class="nav-text">如何封装请求</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#实践-3"><span class="nav-number">4.9.1.</span> <span class="nav-text">实践</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#如何管理-api"><span class="nav-number">4.10.</span> <span class="nav-text">如何管理 api</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#如何使用mock模拟数据"><span class="nav-number">4.11.</span> <span class="nav-text">如何使用mock模拟数据</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#原理与解决方案-3"><span class="nav-number">4.11.1.</span> <span class="nav-text">原理与解决方案</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#远程在线mock"><span class="nav-number">4.11.2.</span> <span class="nav-text">远程在线mock</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#本地JSON-mock"><span class="nav-number">4.11.3.</span> <span class="nav-text">本地JSON mock</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#总结"><span class="nav-number">5.</span> <span class="nav-text">总结</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#参考资料"><span class="nav-number">6.</span> <span class="nav-text">参考资料</span></a></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="copyright">&copy; 2019 &mdash; <span itemprop="copyrightYear">2020</span> <span class="with-love"><i class="fa fa-heartbeat"></i> </span><span class="author" itemprop="copyrightHolder">丶远方</span></div><div class="theme-info"><div class="powered-by"></div><span class="post-count">全站共46.1k字 &nbsp;|&nbsp; Since 2019/8/7 七夕</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="site-pv"><i class="fa fa-eye"></i>总访问量 <span class="busuanzi-value" id="busuanzi_value_site_pv"></span> 次</span></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span id="scrollpercent"><span>0</span>%</span></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="/js/src/Valine.min.js"></script><script type="text/javascript">if(new Valine({lang:"zh-cn",admin_email:"793458585@qq.com",el:"#comments",appId:"5CEURR6JWfDtRVKc1srgvtio-gzGzoHsz",appKey:"OD5L2o6Po5Fg364tsu1QbpK5",emoticon_url:"https://cloud.panjunwen.com/alu",emoticon_list:["吐.png","喷血.png","狂汗.png","不说话.png","汗.png","坐等.png","献花.png","不高兴.png","中刀.png","害羞.png","皱眉.png","小眼睛.png","中指.png","尴尬.png","瞅你.png","想一想.png","中枪.png","得意.png","肿包.png","扇耳光.png","亲亲.png","惊喜.png","脸红.png","无所谓.png","便便.png","愤怒.png","蜡烛.png","献黄瓜.png","内伤.png","投降.png","观察.png","看不见.png","击掌.png","抠鼻.png","邪恶.png","看热闹.png","口水.png","抽烟.png","锁眉.png","装大款.png","吐舌.png","无奈.png","长草.png","赞一个.png","呲牙.png","无语.png","阴暗.png","不出所料.png","咽气.png","期待.png","高兴.png","吐血倒地.png","哭泣.png","欢呼.png","黑线.png","喜极而泣.png","喷水.png","深思.png","鼓掌.png","暗地观察.png"],placeholder:"&#x270d;写评论"}),window.location.hash)var checkExist=setInterval(function(){$(window.location.hash).length&&($("html, body").animate({scrollTop:$(window.location.hash).offset().top-90},1e3),clearInterval(checkExist))},100)</script><script type="text/javascript">function proceedsearch(){$("body").append('<div class="search-popup-overlay local-search-pop-overlay"></div>').css("overflow","hidden"),$(".search-popup-overlay").click(onPopupClose),$(".popup").toggle();var t=$("#local-search-input");t.attr("autocapitalize","none"),t.attr("autocorrect","off"),t.focus()}var isfetched=!1,isXml=!0,search_path="search.xml";0===search_path.length?search_path="search.xml":/json$/i.test(search_path)&&(isXml=!1);var path="/"+search_path,onPopupClose=function(t){$(".popup").hide(),$("#local-search-input").val(""),$(".search-result-list").remove(),$("#no-result").remove(),$(".local-search-pop-overlay").remove(),$("body").css("overflow","")},searchFunc=function(t,e,o){"use strict";$("body").append('<div class="search-popup-overlay local-search-pop-overlay"><div id="search-loading-icon"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div>').css("overflow","hidden"),$("#search-loading-icon").css("margin","20% auto 0 auto").css("text-align","center"),$.ajax({url:t,dataType:isXml?"xml":"json",async:!0,success:function(t){isfetched=!0,$(".popup").detach().appendTo(".header-inner");var n=isXml?$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get():t,r=document.getElementById(e),s=document.getElementById(o),a=function(){var t=r.value.trim().toLowerCase(),e=t.split(/[\s\-]+/);e.length>1&&e.push(t);var o=[];if(t.length>0&&n.forEach(function(n){function r(e,o,n,r){for(var s=r[r.length-1],a=s.position,i=s.word,l=[],h=0;a+i.length<=n&&0!=r.length;){i===t&&h++,l.push({position:a,length:i.length});var p=a+i.length;for(r.pop();0!=r.length&&(s=r[r.length-1],a=s.position,i=s.word,p>a);)r.pop()}return c+=h,{hits:l,start:o,end:n,searchTextCount:h}}function s(t,e){var o="",n=e.start;return e.hits.forEach(function(e){o+=t.substring(n,e.position);var r=e.position+e.length;o+='<b class="search-keyword">'+t.substring(e.position,r)+"</b>",n=r}),o+=t.substring(n,e.end)}var a=!1,i=0,c=0,l=n.title.trim(),h=l.toLowerCase(),p=n.content.trim().replace(/<[^>]+>/g,""),u=p.toLowerCase(),f=decodeURIComponent(n.url),d=[],g=[];if(""!=l&&(e.forEach(function(t){function e(t,e,o){var n=t.length;if(0===n)return[];var r=0,s=[],a=[];for(o||(e=e.toLowerCase(),t=t.toLowerCase());(s=e.indexOf(t,r))>-1;)a.push({position:s,word:t}),r=s+n;return a}d=d.concat(e(t,h,!1)),g=g.concat(e(t,u,!1))}),(d.length>0||g.length>0)&&(a=!0,i=d.length+g.length)),a){[d,g].forEach(function(t){t.sort(function(t,e){return e.position!==t.position?e.position-t.position:t.word.length-e.word.length})});var v=[];0!=d.length&&v.push(r(l,0,l.length,d));for(var $=[];0!=g.length;){var C=g[g.length-1],m=C.position,x=C.word,w=m-20,y=m+80;w<0&&(w=0),y<m+x.length&&(y=m+x.length),y>p.length&&(y=p.length),$.push(r(p,w,y,g))}$.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hits.length!==e.hits.length?e.hits.length-t.hits.length:t.start-e.start});var T=parseInt("1");T>=0&&($=$.slice(0,T));var b="";b+=0!=v.length?"<li><a href='"+f+"' class='search-result-title'>"+s(l,v[0])+"</a>":"<li><a href='"+f+"' class='search-result-title'>"+l+"</a>",$.forEach(function(t){b+="<a href='"+f+'\'><p class="search-result">'+s(p,t)+"...</p></a>"}),b+="</li>",o.push({item:b,searchTextCount:c,hitCount:i,id:o.length})}}),1===e.length&&""===e[0])s.innerHTML='<div id="no-result"><i class="fa fa-search fa-5x" /></div>';else if(0===o.length)s.innerHTML='<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>';else{o.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hitCount!==e.hitCount?e.hitCount-t.hitCount:e.id-t.id});var a='<ul class="search-result-list">';o.forEach(function(t){a+=t.item}),a+="</ul>",s.innerHTML=a}};r.addEventListener("input",a),$(".local-search-pop-overlay").remove(),$("body").css("overflow",""),proceedsearch()}})};$(".popup-trigger").click(function(t){t.stopPropagation(),isfetched===!1?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(onPopupClose),$(".popup").click(function(t){t.stopPropagation()}),$(document).on("keyup",function(t){var e=27===t.which&&$(".search-popup").is(":visible");e&&onPopupClose()})</script><script>!function(){var t=document.createElement("script"),s=window.location.protocol.split(":")[0];"https"===s?t.src="https://zz.bdstatic.com/linksubmit/push.js":t.src="http://push.zhanzhang.baidu.com/push.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()</script><script src="/js/cursor/love.min.js"></script><script src="/js/src/activate-power-mode.min.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!1,document.body.addEventListener("input",POWERMODE)</script><script type="text/javascript" src="/js/src/clipboard.min.js" async></script><script type="text/javascript" src="/js/src/clipboard-use.js" async></script><link rel="stylesheet" href="/sharejs/css/share.min.css"><script src="/sharejs/js/social-share.min.js" async></script><script type="text/javascript" src="/js/src/linkcard.js" async></script><script src="/live2d-widget/autoload.js" async></script></body></html><!-- rebuild by neat -->